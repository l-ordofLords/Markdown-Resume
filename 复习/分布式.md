分布式项目或者微服务项目  不可避免涉及到多个微服务或者同一个业务中有多种类型的数据库，这样普通的单一事务无法保证数据一致性

怎么确保数据一致性：

1. **分布式事务：** 使用分布式事务来确保多个数据库之间的操作是原子的。在这种情况下，一次跨数据库的事务要么全部提交成功，要么全部回滚。然而，分布式事务也可能引入性能开销和复杂性。
2. **补偿事务：** 通过引入补偿事务（Compensating Transactions）来处理数据不一致的情况。当在某个数据库上执行一个写操作失败时，可以通过执行相应的补偿操作来保持一致性。
3. **事件驱动架构：** 使用事件驱动架构，通过事件通知来触发其他数据库中的相应更新。每个数据库都可以订阅感兴趣的事件，从而在接收到事件时进行相应的处理。
4. **异步数据同步：** 针对只读或者最终一致性要求较低的情况，可以采用异步的数据同步机制。通过定期或实时地将数据从一个数据库同步到另一个数据库，可以保持一致性。
5. **数据版本控制：** 在每个数据库中引入数据版本控制，确保写操作的版本号一致。这可以通过在每个记录中包含版本号，并在更新时验证版本号的方式来实现。
6. **数据复制和备份：** 定期备份和复制数据，以防止数据丢失或者在紧急情况下进行恢复。这并不是一种实时的一致性保障，但可以用作数据恢复的手段。
7. **定期一致性检查：** 定期检查各个数据库中的数据一致性，发现并纠正潜在的问题。这可以通过比较数据库中的记录或使用一致性检查工具来实现。
8. **使用统一的数据访问层：** 将访问多个数据库的逻辑封装在一个统一的数据访问层中，确保数据的读写是一致的。这可以降低业务逻辑对底层数据库实现的依赖性。

分布式事务有几种类型   
xa数据库支持，不是所有的数据库都支持xa
tcc两段提交  ，回滚的时候需要让另外的事务的全局锁超时，时间太长
saga  一个成功了通知下一个  失败了之前成功的进行补偿操作（手动补偿代码）
消息最终一致性   mq+消息表进行处理

io多路复用  redis  redis能做什么方面的工作
opentsdb集群方案  hbase集群方案  opentsdb集群方案
mq的批量消费